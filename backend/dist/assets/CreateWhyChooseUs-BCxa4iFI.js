import{r,s as y,j as t,b as C}from"./index-Vu9aRgsR.js";import{Q as k,B as g}from"./ReactToastify-D4xlGJRd.js";import{R as A}from"./quill.snow-DdLT0Kmw.js";import"./clsx-B-dksMZM.js";const F=()=>{const[d,h]=r.useState(""),[p,b]=r.useState(""),[a,u]=r.useState([]),[n,c]=r.useState([]),[i,m]=r.useState([]),x=y(),j=o=>{const e=Array.from(o.target.files);if(a.length+e.length>5){g.error("You can only upload up to 5 photos");return}u([...a,...e]);const l=Array.from({length:e.length},()=>""),s=Array.from({length:e.length},()=>"");c([...n,...l]),m([...i,...s])},N=o=>{u(e=>e.filter((l,s)=>s!==o)),c(e=>e.filter((l,s)=>s!==o)),m(e=>e.filter((l,s)=>s!==o))},v={toolbar:[[{font:[]}],["bold","italic","underline","strike","blockquote"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],["link","image","video"],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]],clipboard:{matchVisual:!1}},w=async o=>{o.preventDefault();try{const e=new FormData;e.append("title",d),e.append("description",p),a.forEach((s,f)=>{e.append("photo",s),e.append("alt",n[f]),e.append("imgTitle",i[f])});const l=await C.post("/api/WhyChooseUs/createWhyChooseUs",e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});g.success("Item added successfully!"),h(""),b(""),u([]),c([]),m([]),x("/whychooseus")}catch(e){console.error(e)}};return t.jsxs("form",{onSubmit:w,className:"p-4",children:[t.jsx(k,{}),t.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add New Item"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"title",className:"block font-semibold mb-2",children:"Title"}),t.jsx("input",{id:"title",value:d,onChange:o=>h(o.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"description",className:"block font-semibold mb-2",children:"Description"}),t.jsx(A,{value:p,onChange:b,modules:v,className:"quill"})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photos"}),t.jsx("input",{type:"file",name:"photo",id:"photo",multiple:!0,onChange:j,className:"border rounded focus:outline-none",accept:"image/*"}),a.length>0&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:a.map((o,e)=>t.jsxs("div",{className:"relative w-56 group flex flex-col items-center",children:[t.jsxs("div",{className:"relative w-56",children:[t.jsx("img",{src:URL.createObjectURL(o),alt:`Photo ${e+1}`,className:"h-32 w-56 object-cover"}),t.jsx("button",{onClick:()=>N(e),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"})]}),t.jsxs("label",{className:"block mt-2",children:["Alternative Text:",t.jsx("input",{type:"text",value:n[e],onChange:l=>{const s=[...n];s[e]=l.target.value,c(s)},className:"w-full p-2 border rounded focus:outline-none"})]}),t.jsxs("label",{className:"block mt-2",children:["Image Title:",t.jsx("input",{type:"text",value:i[e],onChange:l=>{const s=[...i];s[e]=l.target.value,m(s)},className:"w-full p-2 border rounded focus:outline-none"})]})]},e))})]}),t.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded mt-8",children:"Add Item"})]})};export{F as default};
