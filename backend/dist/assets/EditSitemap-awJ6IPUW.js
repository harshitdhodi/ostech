import{E as y,s as v,r as o,j as e,b as s}from"./index-Czi6Otcp.js";import{Q as x,B as b}from"./ReactToastify-BiIyI4B6.js";import"./clsx-B-dksMZM.js";const C=()=>{const{id:t}=y(),{type:r}=y(),h=v(),[n,m]=o.useState(""),[d,c]=o.useState(""),[p,u]=o.useState();o.useEffect(()=>{(async()=>{try{let i;r==="product-category"?i=await s.get(`/api/product/fetchCategoryUrlPriorityFreqById?id=${t}`,{withCredentials:!0}):r==="products"?i=await s.get(`/api/product/fetchUrlPriorityFreqById?id=${t}`,{withCredentials:!0}):r==="service-category"?i=await s.get(`/api/services/fetchCategoryUrlPriorityFreqById?id=${t}`,{withCredentials:!0}):r==="service"?i=await s.get(`/api/services/fetchUrlPriorityFreqById?id=${t}`,{withCredentials:!0}):r==="news-category"?i=await s.get(`/api/news/fetchCategoryUrlPriorityFreqById?id=${t}`,{withCredentials:!0}):r==="new"?i=await s.get(`/api/news/fetchUrlPriorityFreqById?id=${t}`,{withCredentials:!0}):r==="data"&&(i=await s.get(`/api/sitemap/fetchUrlPriorityFreqById?id=${t}`,{withCredentials:!0}));const{url:a,changeFreq:g,priority:w}=i.data;m(a),c(g),u(w)}catch(i){console.error("Error fetching sitemap data:",i)}})()},[t,r]);const f=async l=>{l.preventDefault();try{const i={url:n,changeFreq:d,priority:p};let a;r==="productcategory"?a=`/api/product/editCategoryUrlPriorityFreq?id=${t}`:r==="product"?a=`/api/product/editUrlPriorityFreq?id=${t}`:r==="servicecategory"?a=`/api/services/editCategoryUrlPriorityFreq?id=${t}`:r==="services"?a=`/api/services/editUrlPriorityFreq?id=${t}`:r==="newscategory"?a=`/api/news/editCategoryUrlPriorityFreq?id=${t}`:r==="news"?a=`/api/news/editUrlPriorityFreq?id=${t}`:r==="data"&&(a=`/api/sitemap/editUrlPriorityFreq?id=${t}`),await s.put(a,i,{withCredentials:!0}),h("/sitemap")}catch(i){console.error("Error updating sitemap:",i),b.error("Failed to update sitemap.")}};return e.jsxs("form",{onSubmit:f,className:"p-4",children:[e.jsx(x,{}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"url",className:"block font-semibold mb-2",children:"URL"}),e.jsx("input",{type:"url",id:"url",value:n,disabled:r!=="data",className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"priority",className:"block font-semibold mb-2",children:"Priority"}),e.jsx("input",{type:"number",id:"priority",min:0,max:1,step:.01,value:p,onChange:l=>u(l.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"changeFreq",className:"block font-semibold mb-2",children:"Change Frequency"}),e.jsxs("select",{id:"changeFreq",value:d,onChange:l=>c(l.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Change Frequency"}),e.jsx("option",{value:"always",children:"Always"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Update Sitemap"})]})};export{C as default};
