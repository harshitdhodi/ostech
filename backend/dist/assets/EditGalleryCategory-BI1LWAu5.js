import{E as N,s as v,r,j as e,b as m}from"./index-DaCCig_H.js";const E=()=>{const{id:n}=N(),g=v(),[u,p]=r.useState(""),[o,h]=r.useState(""),[l,c]=r.useState(""),[i,b]=r.useState("");r.useEffect(()=>{(async()=>{const t=`/api/gallery/getCategoryById?id=${n}`;try{const s=await m.get(t,{withCredentials:!0}),{category:d,photo:j,alt:C}=s.data;p(d),c(C),b(j)}catch(s){console.error("Error fetching data:",s)}})()},[n]);const x=a=>{const t=a.target.files[0];h(t)},y=()=>{h(null),c("")},f=async a=>{a.preventDefault();const t=new FormData;t.append("category",u),t.append("alt",l),o?t.append("photo",o):t.append("photo",i);const s=`/api/gallery/updateCategory?id=${n}`;try{await m.put(s,t,{withCredentials:!0}),g("/GalleryCategory")}catch(d){console.error("Error updating data:",d)}};return e.jsxs("form",{onSubmit:f,className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Edit Category"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"category",className:"block font-semibold mb-2",children:"Category"}),e.jsx("input",{type:"text",id:"category",value:u,onChange:a=>p(a.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",id:"photo",onChange:x,className:"border rounded focus:outline-none",accept:"image/*"}),(o||i)&&e.jsxs("div",{className:"mt-2 relative w-56 group",children:[e.jsx("img",{src:o?URL.createObjectURL(o):`/api/logo/download/${i}`,alt:l,className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:y,className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:l,onChange:a=>c(a.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Update Category"})]})};export{E as default};
