import{r as o,s as S,j as t,b as A}from"./index-Vu9aRgsR.js";import{R as F}from"./quill.snow-DdLT0Kmw.js";import{Q as T,B as h}from"./ReactToastify-D4xlGJRd.js";import"./clsx-B-dksMZM.js";const $=()=>{const[b,f]=o.useState(""),[x,g]=o.useState(""),[r,c]=o.useState([]),[u,i]=o.useState([]),[m,n]=o.useState([]),[j,v]=o.useState("active"),N=S(),C=a=>{const e=Array.from(a.target.files);if(r.length+e.length>5){h.error("You can only upload up to 5 photos");return}c([...r,...e]),i([...u,...Array(e.length).fill("")]),n([...m,...Array(e.length).fill("")])},w=a=>{c(e=>e.filter((l,s)=>s!==a)),i(e=>e.filter((l,s)=>s!==a)),n(e=>e.filter((l,s)=>s!==a))},y=async a=>{a.preventDefault();try{const e=new FormData;e.append("title",b),e.append("description",x),r.forEach((l,s)=>{e.append("photo",l),e.append("alt",u[s]),e.append("imgtitle",m[s])}),e.append("status",j),await A.post("/api/corevalue/createCoreValue",e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),f(""),g(""),c([]),i([]),n([]),v("active"),h.success("Core Value created successfully!"),N("/CoreValue")}catch(e){console.error(e),h.error("Failed to create Core Value. Please try again.")}},k={toolbar:[[{font:[]}],["bold","italic","underline","strike","blockquote"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],[{align:[]}],["clean"]],clipboard:{matchVisual:!1}};return t.jsxs("form",{onSubmit:y,className:"p-4",children:[t.jsx(T,{}),t.jsx("h1",{className:"text-xl font-bold text-gray-700 uppercase text-center",children:"Create New Core Value"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"title",className:"block font-semibold mb-2",children:"Title"}),t.jsx("input",{type:"text",id:"title",value:b,onChange:a=>f(a.target.value),className:"w-full p-2 border rounded focus:outline-none"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"description",className:"block font-semibold mb-2",children:"Description"}),t.jsx(F,{value:x,onChange:g,modules:k,className:"bg-white"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block font-semibold mb-2",children:"Add Photos"}),t.jsx("input",{type:"file",onChange:C,multiple:!0,accept:"image/*",className:"p-2 border rounded"}),t.jsx("div",{className:"flex flex-wrap gap-4 mt-4",children:r.map((a,e)=>t.jsxs("div",{className:"relative w-56",children:[t.jsx("img",{src:URL.createObjectURL(a),alt:`Photo ${e+1}`,className:"w-56 h-32 object-cover"}),t.jsxs("label",{htmlFor:`alt-${e}`,className:"block mt-2",children:["Alternative Text:",t.jsx("input",{type:"text",id:`alt-${e}`,value:u[e],onChange:l=>i(s=>s.map((d,p)=>p===e?l.target.value:d)),className:"w-full p-2 border rounded focus:outline-none"})]}),t.jsxs("label",{htmlFor:`imgtitle-${e}`,className:"block mt-2",children:["Title Text:",t.jsx("input",{type:"text",id:`imgtitle-${e}`,value:m[e],onChange:l=>n(s=>s.map((d,p)=>p===e?l.target.value:d)),className:"w-full p-2 border rounded focus:outline-none"})]}),t.jsx("button",{onClick:()=>w(e),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex justify-center items-center",children:t.jsx("span",{className:"text-xs",children:"X"})})]},e))})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),t.jsxs("select",{id:"status",value:j,onChange:a=>v(a.target.value),className:"w-full p-2 border rounded focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsx("button",{type:"submit",className:"w-full p-2 bg-blue-500 text-white rounded focus:outline-none",children:"Create Core Value"})]})};export{$ as default};
