import{r,s as y,j as t,b as C}from"./index-DYrfXb_W.js";import{Q as A,B as S}from"./ReactToastify-BarQBDsc.js";import"./clsx-B-dksMZM.js";const I=()=>{const[h,x]=r.useState(""),[o,u]=r.useState([]),[n,c]=r.useState([]),[i,m]=r.useState([]),[f,g]=r.useState(""),[p,d]=r.useState("active"),v=y(),N=a=>{const e=Array.from(a.target.files);if(o.length+e.length>5){S.error("You can only upload up to 5 photos");return}u([...o,...e]);const l=Array.from({length:e.length},()=>"");c([...n,...l]);const s=Array.from({length:e.length},()=>"");m([...i,...s])},j=a=>{u(e=>e.filter((l,s)=>s!==a)),c(e=>e.filter((l,s)=>s!==a)),m(e=>e.filter((l,s)=>s!==a))},w=async a=>{a.preventDefault();try{const e=new FormData;e.append("partnerName",h),o.forEach((s,b)=>{e.append("photo",s),e.append("alt",n[b]),e.append("imgTitle",i[b])}),e.append("url",f),e.append("status",p);const l=await C.post("/api/partner/insertPartners",e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});x(""),u([]),g(""),d("active"),c([]),m([]),v("/clients")}catch(e){console.error(e)}};return t.jsxs("form",{onSubmit:w,className:"p-4",children:[t.jsx(A,{}),t.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add Client"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"partnerName",className:"block font-semibold mb-2",children:"Client Name"}),t.jsx("input",{type:"text",id:"partnerName",value:h,onChange:a=>x(a.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),t.jsxs("div",{className:"mt-12",children:[t.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photos"}),t.jsx("input",{type:"file",name:"photo",id:"photo",multiple:!0,onChange:N,className:"border rounded focus:outline-none",accept:"image/*"}),o.length>0&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:o.map((a,e)=>t.jsxs("div",{className:"relative w-56 group flex flex-col items-center",children:[t.jsxs("div",{className:"relative w-56",children:[t.jsx("img",{src:URL.createObjectURL(a),alt:`Service ${e+1}`,className:"h-32 w-56 object-cover"}),t.jsx("button",{onClick:()=>j(e),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 hover:bg-red-600 focus:outline-none",children:"X"})]}),t.jsxs("label",{className:"block mt-2",children:["Alt Text:",t.jsx("input",{type:"text",value:n[e],onChange:l=>{const s=[...n];s[e]=l.target.value,c(s)},className:"w-full p-2 border rounded focus:outline-none"})]}),t.jsxs("label",{className:"block mt-2",children:["Image Title:",t.jsx("input",{type:"text",value:i[e],onChange:l=>{const s=[...i];s[e]=l.target.value,m(s)},className:"w-full p-2 border rounded focus:outline-none"})]})]},e))})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),t.jsxs("div",{className:"flex items-center",children:[t.jsxs("label",{className:"mr-4 text-green-500",children:[t.jsx("input",{type:"radio",value:"active",checked:p==="active",onChange:()=>d("active"),className:"mr-2"}),"Active"]}),t.jsxs("label",{className:"text-red-500",children:[t.jsx("input",{type:"radio",value:"inactive",checked:p==="inactive",onChange:()=>d("inactive"),className:"mr-2"}),"Inactive"]})]})]}),t.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Client"})]})};export{I as default};
