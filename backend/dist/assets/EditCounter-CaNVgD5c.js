import{r as o,s as w,E as S,j as e,b as f}from"./index-Czi6Otcp.js";const E=()=>{const[d,h]=o.useState(""),[m,p]=o.useState(""),[x,b]=o.useState(""),[i,r]=o.useState("active"),[a,v]=o.useState(null),[l,j]=o.useState(""),[c,g]=o.useState(""),N=w(),{id:u}=S();o.useEffect(()=>{(async()=>{try{const n=(await f.get(`/api/counter/getCounterById?id=${u}`,{withCredentials:!0})).data;h(n.title),p(n.no),b(n.sign),r(n.status),j(n.photo),g(n.alt)}catch(t){console.error(t)}})()},[u]);const y=s=>{const t=s.target.files[0];v(t)},C=()=>{v(null),j("")},k=async s=>{s.preventDefault();const t=new FormData;t.append("title",d),t.append("no",m),t.append("sign",x),t.append("status",i),t.append("alt",c),a?t.append("photo",a):l&&t.append("photo",l);try{await f.put(`/api/counter/updateCounter?id=${u}`,t,{withCredentials:!0}),N("/counter")}catch(n){console.error(n)}};return e.jsxs("form",{onSubmit:k,className:"p-4",children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Edit Counter"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block font-semibold mb-2",children:"Title"}),e.jsx("input",{type:"text",id:"title",value:d,onChange:s=>h(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"no",className:"block font-semibold mb-2",children:"Number"}),e.jsx("input",{type:"number",id:"no",value:m,onChange:s=>p(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"sign",className:"block font-semibold mb-2",children:"Sign"}),e.jsxs("select",{id:"sign",value:x,onChange:s=>b(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Sign"}),e.jsx("option",{value:"+",children:"+"}),e.jsx("option",{value:"-",children:"-"}),e.jsx("option",{value:"*",children:"*"}),e.jsx("option",{value:"/",children:"/"}),e.jsx("option",{value:"%",children:"%"}),e.jsx("option",{value:"₹",children:"₹"}),e.jsx("option",{value:"k",children:"k"}),e.jsx("option",{value:"units",children:"units"}),e.jsx("option",{value:"km",children:"km"}),e.jsx("option",{value:"m",children:"m"}),e.jsx("option",{value:"L",children:"L"}),e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"s",children:"s"}),e.jsx("option",{value:"min",children:"min"}),e.jsx("option",{value:"h",children:"h"}),e.jsx("option",{value:"days",children:"days"}),e.jsx("option",{value:"weeks",children:"weeks"}),e.jsx("option",{value:"months",children:"months"}),e.jsx("option",{value:"years",children:"years"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",id:"photo",onChange:y,className:"border rounded focus:outline-none",accept:"image/*"}),(a||l)&&e.jsxs("div",{className:"mt-2 w-56 relative group",children:[e.jsx("img",{src:a?URL.createObjectURL(a):`/api/logo/download/${l}`,alt:c,className:"h-32 w-56 object-cover"}),e.jsx("button",{type:"button",onClick:C,className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"alt",className:"block font-semibold mb-2",children:"Alternative Text"}),e.jsx("input",{type:"text",id:"alt",value:c,onChange:s=>g(s.target.value),className:"w-56 p-2 border rounded focus:outline-none",required:!0})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4 text-green-500",children:[e.jsx("input",{type:"radio",value:"active",checked:i==="active",onChange:()=>r("active"),className:"mr-2"}),"Active"]}),e.jsxs("label",{className:"text-red-500",children:[e.jsx("input",{type:"radio",value:"inactive",checked:i==="inactive",onChange:()=>r("inactive"),className:"mr-2"}),"Inactive"]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Update Counter"})]})};export{E as default};
