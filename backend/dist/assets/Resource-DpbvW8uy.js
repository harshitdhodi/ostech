import{r,j as e,b as h}from"./index-DaCCig_H.js";import{B as b}from"./Banner-BCvz6P6B.js";import{C as w,b as k}from"./Card-BOAvf5qf.js";import{c as d}from"./phone-BhAh5nVz.js";import{F as N}from"./Footer-CVIL70np.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=d("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=d("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=d("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=d("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=d("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=d("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),V=({video:s,onError:o})=>{const[n,c]=r.useState(!1),[a,l]=r.useState(!0),[i,u]=r.useState(0),t=r.useRef(null);r.useEffect(()=>{t.current&&(t.current.muted=!0,t.current.play(),c(!0))},[]);const m=()=>{t.current&&(n?t.current.pause():t.current.play(),c(!n))},p=()=>{t.current&&(t.current.muted=!a,l(!a))},g=()=>{t.current&&u(t.current.currentTime)},y=x=>{const v=Math.floor(x/60),j=Math.floor(x%60);return`${v}:${j.toString().padStart(2,"0")}`},f=()=>{t.current&&t.current.requestFullscreen&&t.current.requestFullscreen()};return s.youtubeId?e.jsx("div",{className:"relative w-full aspect-video",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${s.youtubeId}?enablejsapi=1&autoplay=1&loop=1&mute=1`,title:s.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsxs("div",{className:"relative w-full aspect-video group",children:[e.jsx("video",{ref:t,src:`/api/upload/play/${s.videoId}`,className:"w-full h-full object-cover",onTimeUpdate:g,onError:o,autoPlay:!0,loop:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex items-center justify-between text-black",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:m,className:"hover:text-blue-400",children:n?e.jsx(C,{size:20}):e.jsx(S,{size:20})}),e.jsx("button",{onClick:p,className:"hover:text-blue-400",children:a?e.jsx(I,{size:20}):e.jsx(E,{size:20})}),e.jsx("span",{className:"text-sm",children:y(i)})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{t.current&&(t.current.currentTime=0)},className:"hover:text-blue-400",children:e.jsx(z,{size:20})}),e.jsx("button",{onClick:f,className:"hover:text-blue-400",children:e.jsx(M,{size:20})})]})]})})]})},P=({video:s})=>{const[o,n]=r.useState(null),[c,a]=r.useState(!1);return e.jsx(w,{className:`overflow-hidden transition-all duration-300 ${o?"border-red-500":"hover:shadow-lg hover:shadow-[#1290ca]/50 hover:scale-105"}`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:e.jsxs(k,{className:"p-0",children:[o?e.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center text-red-500 p-4 text-center",children:e.jsx("p",{children:o})}):e.jsx(V,{video:s,onError:()=>n("Error loading video")}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.channel})]})]})})},B=()=>{const[s,o]=r.useState([]),[n,c]=r.useState(!0),[a,l]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const t=(await h.get("/api/video/getvideo")).data.data.filter(m=>m.youtubeId);o(t)}catch{l("Failed to load videos. Please try again later.")}finally{c(!1)}})()},[]),n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((i,u)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 aspect-video rounded-lg mb-4"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 mb-2 rounded"}),e.jsx("div",{className:"bg-gray-200 h-4 w-1/2 rounded"})]},u))})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-red-600",children:a}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]})}):e.jsxs("div",{className:"container relative mx-auto px-4 py-8",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 50m-40 0a40,40 0 1,0 80,0a40,40 0 1,0 -80,0' fill='none' stroke='%23333' stroke-width='1'/%3E%3C/svg%3E")`,backgroundSize:"100px 100px"}}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>e.jsx(P,{video:i},i._id))})]})},$=()=>{const[s,o]=r.useState({backgroundImage:"",title:""});return r.useEffect(()=>{(async()=>{try{const a=(await h.get("/api/banner/getBannersBySection?section=Resources")).data.banners;if(a&&a.length>0){const l=a[0];o({backgroundImage:`/api/image/download/${l.photo[0]}`,title:l.title})}}catch(c){console.error("Error fetching banner data:",c)}})()},[]),e.jsxs("div",{className:"pt-[5%]",children:[e.jsx(b,{backgroundImage:s.backgroundImage,title:s.title}),e.jsx(B,{}),e.jsx(N,{})]})};export{$ as default};
