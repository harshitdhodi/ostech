import{H as P,r as l,s as S,j as e,I as A,R as F,b as I}from"./index-DYrfXb_W.js";import{R}from"./quill.snow-Bpog9s7S.js";import{Q as D,B as T}from"./ReactToastify-BarQBDsc.js";import"./clsx-B-dksMZM.js";const U=Object.entries(P).map(([r,i])=>({name:r,icon:i})),q={toolbar:[[{font:[]}],["bold","italic","underline","strike","blockquote"],[{header:[1,2,3,4,5,6,!1]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],["link","image","video"],[{direction:"rtl"}],[{color:[]},{background:[]}],[{align:[]}],["clean"]],clipboard:{matchVisual:!1}},O=()=>{const[r,i]=l.useState(""),[m,u]=l.useState(""),[x,v]=l.useState(""),[n,h]=l.useState([]),[c,d]=l.useState([]),[p,b]=l.useState("active"),[f,g]=l.useState(!1),j=S(),N=s=>{const t=Array.from(s.target.files);if(n.length+t.length>5){T.error("You can only upload up to 5 photos");return}h([...n,...t]);const o=Array.from({length:t.length},()=>"");d([...c,...o])},C=s=>{h(t=>t.filter((o,a)=>a!==s)),d(t=>t.filter((o,a)=>a!==s))},y=async s=>{s.preventDefault();try{const t=new FormData;t.append("title",r),t.append("heading",m),t.append("detail",x),t.append("status",p),n.forEach((a,k)=>{t.append("photo",a),t.append("alt",c[k])});const o=await I.post("/api/pageContent/insertPageContent",t,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});i(""),u(""),v(""),h([]),d([]),b("active"),j("/extrapages")}catch(t){console.error(t)}},w=U.filter(s=>s.name.toLowerCase().includes(m.toLowerCase()));return e.jsxs("form",{onSubmit:y,className:"p-4",children:[e.jsx(D,{}),e.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add Page Content"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block font-semibold mb-2",children:"Title"}),e.jsxs("select",{id:"title",value:r,onChange:s=>i(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select a title"}),e.jsx("option",{value:"About Us",children:"About Us"}),e.jsx("option",{value:"Privacy Policy",children:"Privacy Policy"}),e.jsx("option",{value:"Why Choose Us",children:"Why Choose Us"}),e.jsx("option",{value:"Terms Conditions",children:"Terms & Conditions"})]})]}),e.jsxs("div",{className:"mb-4 relative",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"heading",className:"block font-semibold mb-2",children:"Subtitle"}),e.jsx("input",{type:"text",value:m,onChange:s=>u(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),f&&e.jsx("div",{className:"absolute left-0 top-full max-h-48 overflow-y-auto w-52 bg-white rounded border border-gray-300 shadow-lg grid grid-cols-5",children:w.map((s,t)=>e.jsx("div",{className:"p-2 flex items-center gap-2 cursor-pointer hover:bg-gray-100",onClick:()=>{u(s.name),g(!1)},children:e.jsx(A.Provider,{value:{size:"1.5em"},children:F.createElement(s.icon)})},t))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("label",{htmlFor:"details",className:"block font-semibold mb-2",children:"Details"}),e.jsx(R,{value:x,onChange:v,modules:q,className:"quill"})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photos"}),e.jsx("input",{type:"file",name:"photo",id:"photo",multiple:!0,onChange:N,className:"border rounded focus:outline-none ",accept:"image/*"}),n.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:n.map((s,t)=>e.jsxs("div",{className:"relative w-56  group flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-56",children:[e.jsx("img",{src:URL.createObjectURL(s),alt:`Service ${t+1}`,className:"h-32 w-56 object-cover"}),e.jsx("button",{onClick:()=>C(t),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"})]}),e.jsxs("label",{className:"block mt-2",children:["Alternative Text:",e.jsx("input",{type:"text",value:c[t],onChange:o=>{const a=[...c];a[t]=o.target.value,d(a)},className:"w-full p-2 border rounded focus:outline-none"})]})]},t))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"status",className:"block font-semibold mb-2",children:"Status"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("label",{className:"mr-4 text-green-500",children:[e.jsx("input",{type:"radio",value:"active",checked:p==="active",onChange:()=>b("active"),className:"mr-2"}),"Active"]}),e.jsxs("label",{className:"text-red-500",children:[e.jsx("input",{type:"radio",value:"inactive",checked:p==="inactive",onChange:()=>b("inactive"),className:"mr-2"}),"Inactive"]})]})]}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded",children:"Add Page Content"})]})};export{O as default};
