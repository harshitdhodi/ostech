import{r as i,s as b,j as t,b as g}from"./index-DaCCig_H.js";import{Q as j,B as v}from"./ReactToastify-DyB85pLu.js";import"./clsx-B-dksMZM.js";const A=()=>{const[m,d]=i.useState(""),[r,c]=i.useState([]),[l,n]=i.useState([]),h=b(),p=s=>{const e=Array.from(s.target.files);if(r.length+e.length>5){v.error("You can only upload up to 5 photos");return}c([...r,...e]);const a=Array.from({length:e.length},()=>"");n([...l,...a])},u=s=>{c(e=>e.filter((a,o)=>o!==s)),n(e=>e.filter((a,o)=>o!==s))},f=async s=>{s.preventDefault();try{const e=new FormData;e.append("title",m),r.forEach((o,x)=>{e.append("photo",o),e.append("alt",l[x])});const a=await g.post("/api/achievements",e,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});d(""),c([]),n([]),h("/certificates")}catch(e){console.error(e)}};return t.jsxs("form",{onSubmit:f,className:"p-4",children:[t.jsx(j,{}),t.jsx("h1",{className:"text-xl font-bold font-serif text-gray-700 uppercase text-center",children:"Add Certificate"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"description",className:"block font-semibold mb-2",children:"Title"}),t.jsx("input",{id:"description",value:m,onChange:s=>d(s.target.value),className:"w-full p-2 border rounded focus:outline-none",required:!0})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{htmlFor:"photo",className:"block font-semibold mb-2",children:"Photos"}),t.jsx("input",{type:"file",name:"photo",id:"photo",multiple:!0,onChange:p,className:"border rounded focus:outline-none ",accept:"image/*"}),r.length>0&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:r.map((s,e)=>t.jsxs("div",{className:"relative w-56 group flex flex-col items-center",children:[t.jsxs("div",{className:"relative w-56",children:[t.jsx("img",{src:URL.createObjectURL(s),alt:`Service ${e+1}`,className:"h-32 w-56 object-cover"}),t.jsx("button",{onClick:()=>u(e),className:"absolute top-4 right-2 bg-red-500 text-white rounded-md p-1 size-6 flex items-center justify-center hover:bg-red-600 focus:outline-none",children:"X"})]}),t.jsxs("label",{className:"block mt-2",children:["Alternative Text:",t.jsx("input",{type:"text",value:l[e],onChange:a=>{const o=[...l];o[e]=a.target.value,n(o)},className:"w-full p-2 border rounded focus:outline-none"})]})]},e))})]}),t.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded mt-8",children:"Add Certificate"})]})};export{A as default};
