import{r as s,E as y,s as j,j as e,b as g}from"./index-DaCCig_H.js";const N=()=>{const[o,l]=s.useState(""),[i,u]=s.useState(""),[c,f]=s.useState(null),[d,x]=s.useState(""),[p,m]=s.useState(""),{id:r}=y(),b=j();s.useEffect(()=>{(async()=>{try{const n=(await g.get(`/api/banner1/getById?id=${r}`)).data.data;l(n.title),u(n.subtitle),m(n.videoLink),n.images&&x(`/api/upload/download/${n.images}`)}catch(a){console.error("Error fetching data:",a),alert("Failed to load data.")}})()},[r]);const h=async t=>{t.preventDefault();const a=new FormData;a.append("title",o),a.append("subtitle",i),c&&a.append("images",c),a.append("videoLink",p);try{await g.put(`/api/banner1/update?id=${r}`,a,{headers:{"Content-Type":"multipart/form-data"}}),alert("Content updated successfully!"),b("/youtub-banner")}catch(n){console.error("Error updating content:",n),alert("Failed to update content.")}};return e.jsxs("div",{className:"container mx-auto mt-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Update Content"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Title"}),e.jsx("input",{type:"text",value:o,onChange:t=>l(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Subtitle"}),e.jsx("input",{type:"text",value:i,onChange:t=>u(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Current Image"}),d?e.jsx("img",{src:d,alt:"Current",className:"w-32 h-32 object-cover"}):e.jsx("p",{children:"No image available"}),e.jsx("label",{className:"block font-medium mt-2",children:"Upload New Image"}),e.jsx("input",{type:"file",onChange:t=>f(t.target.files[0]),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none",accept:"image/*"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium",children:"Video Link"}),e.jsx("input",{type:"url",value:p,onChange:t=>m(t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0})]}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",className:"bg-blue-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-200",children:"Update"}),e.jsx("button",{type:"button",onClick:()=>b("/content-list"),className:"ml-4 bg-gray-500 text-white font-bold py-2 px-4 rounded hover:bg-gray-600 focus:outline-none focus:ring focus:ring-gray-200",children:"Cancel"})]})]})]})};export{N as default};
